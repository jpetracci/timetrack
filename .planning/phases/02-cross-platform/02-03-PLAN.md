---
phase: 02-cross-platform
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - lib/ui/home_screen.dart
autonomous: false
must_haves:
  truths:
    - "Layout centers content on wide screens with a max width"
    - "Layout compresses spacing on very small screens"
    - "Active timer header stays visible while project list scrolls"
  artifacts:
    - path: lib/ui/home_screen.dart
      provides: Responsive layout constraints and padding
      contains: "LayoutBuilder"
  key_links:
    - from: lib/ui/home_screen.dart
      to: "MediaQuery/constraints"
      via: "width-based padding and maxWidth"
      pattern: "LayoutBuilder|ConstrainedBox|MediaQuery"
---

<objective>
Establish a responsive layout foundation across iOS, Android, and web.

Purpose: Ensure the Phase 2 baseline layout adapts to wide and small screens without breaking core UX.
Output: Updated HomeScreen layout with responsive width and spacing rules.
</objective>

<execution_context>
@/Users/joel/.config/opencode/get-shit-done/workflows/execute-plan.md
@/Users/joel/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-cross-platform/02-CONTEXT.md
@.planning/phases/02-cross-platform/02-RESEARCH.md
@lib/ui/home_screen.dart
</context>

<tasks>

<task type="auto">
  <name>Task 1: Constrain wide-screen layout to a centered column</name>
  <files>lib/ui/home_screen.dart</files>
  <action>
Wrap the body content in a responsive container:
- Use `LayoutBuilder` to read available width.
- Center content and constrain max width to ~720px (e.g., `ConstrainedBox` inside `Align`).
- Keep `SafeArea` and the existing header + list structure intact so the header remains visible while the list scrolls.
  </action>
  <verify>Run `flutter run -d chrome` and confirm the content stays centered on wide windows.</verify>
  <done>Wide screens show a single centered column with max width around 720px.</done>
</task>

<task type="auto">
  <name>Task 2: Compress spacing on very small screens</name>
  <files>lib/ui/home_screen.dart</files>
  <action>
Make padding and vertical spacing responsive to small widths:
- Use the width from `LayoutBuilder` or `MediaQuery` to reduce outer padding and `SizedBox` spacing on narrow screens (e.g., <360px).
- Keep all controls readable; do not change typography sizes in this phase.
  </action>
  <verify>Run `flutter run -d chrome` and narrow the viewport to phone width; verify there are no overflow warnings.</verify>
  <done>Small screens use tighter padding and spacing without layout overflow.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Responsive layout foundation for HomeScreen</what-built>
  <how-to-verify>
    1. Open the app in a wide web viewport (>= 1200px) and confirm content is centered with a max width (~720px).
    2. Narrow the viewport to a small phone width and confirm padding compresses without overflow.
    3. Scroll the project list and confirm the active timer header remains visible.
  </how-to-verify>
  <resume-signal>Type "approved" or describe any layout issues.</resume-signal>
</task>

</tasks>

<verification>
- Wide screens show centered single-column layout.
- Small screens compress spacing without overflow.
- Header remains visible while list scrolls.
</verification>

<success_criteria>
- Layout adapts across screen sizes in line with Phase 2 decisions.
</success_criteria>

<output>
After completion, create `.planning/phases/02-cross-platform/02-03-SUMMARY.md`
</output>
